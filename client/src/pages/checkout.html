<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Computer Components Store</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
  <!-- Header / Navigation -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <i class="bi bi-cpu-fill me-2"></i>
          <span class="text-highlight">Tech</span>Hub
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
                aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0" id="category-menu">
            <!-- Categories will be loaded dynamically -->
            <li class="nav-item">
              <a class="nav-link" href="products.html">All Products</a>
            </li>
          </ul>
          <form class="search-form d-flex mx-auto">
            <input class="form-control" type="search" placeholder="Search products..." aria-label="Search">
            <button class="btn btn-primary" type="submit"><i class="bi bi-search"></i></button>
          </form>
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link position-relative" href="cart.html">
                <i class="bi bi-cart-fill"></i>
                <span class="cart-count badge rounded-pill bg-danger d-none">0</span>
              </a>
            </li>
            <!-- Authentication links (shown when not logged in) -->
            <li class="nav-item dropdown" id="auth-menu-items">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" 
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-person-circle"></i> Account
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="login.html">Login</a></li>
                <li><a class="dropdown-item" href="register.html">Register</a></li>
              </ul>
            </li>
            <!-- User menu (shown when logged in) -->
            <li class="nav-item dropdown d-none" id="user-menu-items">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
                 data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-person-fill"></i> <span class="user-fullname">User</span>
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                <li><a class="dropdown-item" href="profile.html">My Profile</a></li>
                <li><a class="dropdown-item" href="profile.html#orders">Order History</a></li>
                <li><a class="dropdown-item admin-only d-none" href="admin-dashboard.html">Admin Dashboard</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item logout-button" href="#">Logout</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main class="main-content py-5">
    <div class="container">
      <h1 class="mb-4">Checkout</h1>

      <!-- Checkout Steps -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="checkout-steps d-flex justify-content-center">
            <div class="step completed">
              <div class="step-circle">1</div>
              <div class="step-text">Shopping Cart</div>
            </div>
            <div class="step-line"></div>
            <div class="step active">
              <div class="step-circle">2</div>
              <div class="step-text">Checkout</div>
            </div>
            <div class="step-line"></div>
            <div class="step">
              <div class="step-circle">3</div>
              <div class="step-text">Confirmation</div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8">
          <!-- Checkout Form -->
          <div class="card mb-4">
            <div class="card-header">
              <h5 class="mb-0">Shipping Information</h5>
            </div>
            <div class="card-body">
              <form id="checkout-form" class="needs-validation" novalidate>
                <!-- Use Existing Address Toggle (for logged in users) -->
                <div id="address-toggle-container" class="mb-4 d-none">
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="address-toggle" name="useExistingAddress">
                    <label class="form-check-label" for="address-toggle">
                      Use one of my saved addresses
                    </label>
                  </div>
                </div>

                <!-- Existing Address Selection (for logged in users) -->
                <div id="existing-address-form" class="d-none mb-4">
                  <div class="mb-3">
                    <label for="address-select" class="form-label">Select Address</label>
                    <select class="form-select" id="address-select" name="addressId">
                      <!-- Addresses will be loaded dynamically -->
                    </select>
                  </div>
                </div>

                <!-- New Address Form -->
                <div id="new-address-form">
                  <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                    <div class="invalid-feedback">
                      Please enter a valid email address.
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="fullName" class="form-label">Full Name</label>
                      <input type="text" class="form-control" id="fullName" name="fullName" required>
                      <div class="invalid-feedback">
                        Please enter your full name.
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="phone" class="form-label">Phone Number</label>
                      <input type="tel" class="form-control" id="phone" name="phone" required>
                      <div class="invalid-feedback">
                        Please enter a valid phone number.
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="address" name="address" required>
                    <div class="invalid-feedback">
                      Please enter your address.
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="address2" class="form-label">Address Line 2 (Optional)</label>
                    <input type="text" class="form-control" id="address2" name="address2">
                  </div>
                  <div class="row">
                    <div class="col-md-5 mb-3">
                      <label for="country" class="form-label">Country</label>
                      <select class="form-select" id="country" name="country" required>
                        <option value="">Choose...</option>
                        <option value="VN" selected>Vietnam</option>
                        <option value="US">United States</option>
                        <option value="CA">Canada</option>
                        <option value="UK">United Kingdom</option>
                        <!-- Add more countries as needed -->
                      </select>
                      <div class="invalid-feedback">
                        Please select a country.
                      </div>
                    </div>
                    <div class="col-md-4 mb-3">
                      <label for="state" class="form-label">State/Province</label>
                      <input type="text" class="form-control" id="state" name="state" required>
                      <div class="invalid-feedback">
                        Please enter your state or province.
                      </div>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="zip" class="form-label">Zip/Postal Code</label>
                      <input type="text" class="form-control" id="zip" name="zip" required>
                      <div class="invalid-feedback">
                        Please enter your zip or postal code.
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="city" class="form-label">City</label>
                    <input type="text" class="form-control" id="city" name="city" required>
                    <div class="invalid-feedback">
                      Please enter your city.
                    </div>
                  </div>
                  <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="save-address" name="saveAddress">
                    <label class="form-check-label" for="save-address">
                      Save address for future orders
                    </label>
                  </div>
                </div>
                
                <hr class="my-4">
                
                <h5 class="mb-3">Payment Method</h5>
                <div class="payment-methods">
                  <div class="form-check payment-method active">
                    <input class="form-check-input" type="radio" name="paymentMethod" 
                           id="credit-card" value="credit_card" checked>
                    <label class="form-check-label" for="credit-card">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-credit-card fs-4 me-2"></i>
                        <div>
                          <div>Credit / Debit Card</div>
                          <small class="text-muted">Visa, Mastercard, American Express</small>
                        </div>
                      </div>
                    </label>
                  </div>
                  <div class="form-check payment-method">
                    <input class="form-check-input" type="radio" name="paymentMethod" 
                           id="paypal" value="paypal">
                    <label class="form-check-label" for="paypal">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-paypal fs-4 me-2"></i>
                        <div>
                          <div>PayPal</div>
                          <small class="text-muted">Pay with your PayPal account</small>
                        </div>
                      </div>
                    </label>
                  </div>
                  <div class="form-check payment-method">
                    <input class="form-check-input" type="radio" name="paymentMethod" 
                           id="bank-transfer" value="bank_transfer">
                    <label class="form-check-label" for="bank-transfer">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-bank fs-4 me-2"></i>
                        <div>
                          <div>Bank Transfer</div>
                          <small class="text-muted">Pay via bank transfer</small>
                        </div>
                      </div>
                    </label>
                  </div>
                </div>
                
                <hr class="my-4">
                
                <div class="form-check mb-3">
                  <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
                  <label class="form-check-label" for="terms">
                    I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>
                  </label>
                  <div class="invalid-feedback">
                    You must agree to the terms and conditions before placing an order.
                  </div>
                </div>
                
                <button class="btn btn-primary btn-lg w-100" type="submit">
                  Place Order
                </button>
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <!-- Order Summary -->
          <div id="checkout-cart-summary">
            <!-- Cart summary will be loaded dynamically -->
            <div class="card">
              <div class="card-header">
                <h5 class="mb-0">Order Summary</h5>
              </div>
              <div class="card-body">
                <div class="text-center py-4">
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                  <p class="mt-2">Loading order summary...</p>
                </div>
              </div>
            </div>
          </div>
          <!-- Loyalty Points (for logged in users) -->
          <div id="loyalty-points" class="card mt-3 d-none">
            <div class="card-body">
              <h6 class="card-title">Loyalty Points</h6>
              <p class="mb-2">You have <span id="available-points">0</span> points available.</p>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="use-points">
                <label class="form-check-label" for="use-points">
                  Use my points for this order
                </label>
              </div>
            </div>
          </div>
          <!-- Secure Checkout -->
          <div class="card mt-3">
            <div class="card-body">
              <h6 class="card-title d-flex align-items-center">
                <i class="bi bi-shield-lock me-2"></i> Secure Checkout
              </h6>
              <p class="small mb-0">
                Your personal information is encrypted and secure. We never store your credit card details.
              </p>
            </div>
          </div>
          <!-- Need Help? -->
          <div class="card mt-3">
            <div class="card-body">
              <h6 class="card-title d-flex align-items-center">
                <i class="bi bi-question-circle me-2"></i> Need Help?
              </h6>
              <p class="small mb-2">
                For assistance with your order, please contact our customer support.
              </p>
              <div class="d-flex align-items-center">
                <i class="bi bi-telephone me-2"></i>
                <span>+84 123 456 789</span>
              </div>
              <div class="d-flex align-items-center mt-1">
                <i class="bi bi-envelope me-2"></i>
                <span>support@techhub.com</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-4 mb-md-0">
          <div class="footer-about">
            <h5>About TechHub</h5>
            <p>We offer premium computer components for gamers, professionals, and enthusiasts. With quality products and expert service, we're your trusted partner for all computing needs.</p>
            <div class="social-icons">
              <a href="#"><i class="bi bi-facebook"></i></a>
              <a href="#"><i class="bi bi-twitter"></i></a>
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-youtube"></i></a>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-2 mb-4 mb-md-0">
          <div class="footer-links">
            <h5>Shop</h5>
            <ul>
              <li><a href="products.html">All Products</a></li>
              <li><a href="products.html?category=laptops">Laptops</a></li>
              <li><a href="products.html?category=monitors">Monitors</a></li>
              <li><a href="products.html?category=storage">Storage</a></li>
              <li><a href="products.html?category=components">Components</a></li>
            </ul>
          </div>
        </div>
        <div class="col-6 col-md-2 mb-4 mb-md-0">
          <div class="footer-links">
            <h5>Support</h5>
            <ul>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Shipping Policy</a></li>
              <li><a href="#">Return Policy</a></li>
              <li><a href="#">Warranty</a></li>
            </ul>
          </div>
        </div>
        <div class="col-md-4">
          <div class="footer-newsletter">
            <h5>Newsletter</h5>
            <p>Subscribe to our newsletter for the latest updates and offers.</p>
            <form>
              <div class="input-group mb-3">
                <input type="email" class="form-control" placeholder="Your Email" aria-label="Email" aria-describedby="subscribe-btn">
                <button class="btn btn-primary" type="button" id="subscribe-btn">Subscribe</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom text-center">
      <div class="container">
        <p class="mb-0">&copy; 2025 TechHub. All rights reserved.</p>
      </div>
    </div>
  </footer>
</body>
</html>
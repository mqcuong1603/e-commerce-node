<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details - TechHub Computer Components Store</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
  </head>
  <body class="bg-light pt-5">
    <!-- Header will be loaded dynamically from client/src/components/header.html -->
    <header id="header-container"></header>

    <main class="py-5">
      <div class="container">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
          <ol class="breadcrumb" id="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item">
              <a href="products.html">Products</a>
            </li>
            <li
              class="breadcrumb-item active"
              id="product-title"
              aria-current="page"
            >
              Product Details
            </li>
          </ol>
        </nav>

        <!-- Product Detail -->
        <div class="row g-4 mb-5">
          <!-- Product Images Column -->
          <div class="col-md-6">
            <div class="card border-0 shadow-sm rounded-4">
              <div class="card-body p-4">
                <div class="text-center mb-3">
                  <img
                    src="/api/placeholder/500/500"
                    alt="Product"
                    class="img-fluid rounded-3"
                    id="main-product-image"
                    style="max-height: 400px; object-fit: contain"
                  />
                </div>
                <div class="row row-cols-5 g-2">
                  <div class="col">
                    <img
                      src="/api/placeholder/100/100"
                      alt="Thumbnail"
                      class="img-thumbnail border-primary"
                      data-bs-toggle="tooltip"
                      data-bs-title="View image"
                    />
                  </div>
                  <div class="col">
                    <img
                      src="/api/placeholder/100/100"
                      alt="Thumbnail"
                      class="img-thumbnail"
                      data-bs-toggle="tooltip"
                      data-bs-title="View image"
                    />
                  </div>
                  <div class="col">
                    <img
                      src="/api/placeholder/100/100"
                      alt="Thumbnail"
                      class="img-thumbnail"
                      data-bs-toggle="tooltip"
                      data-bs-title="View image"
                    />
                  </div>
                  <div class="col">
                    <img
                      src="/api/placeholder/100/100"
                      alt="Thumbnail"
                      class="img-thumbnail"
                      data-bs-toggle="tooltip"
                      data-bs-title="View image"
                    />
                  </div>
                  <div class="col">
                    <img
                      src="/api/placeholder/100/100"
                      alt="Thumbnail"
                      class="img-thumbnail"
                      data-bs-toggle="tooltip"
                      data-bs-title="View image"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Product Info Column -->
          <div class="col-md-6">
            <div class="card border-0 shadow-sm rounded-4 h-100">
              <div class="card-body p-4">
                <div class="mb-3">
                  <span class="badge bg-success me-1">New</span>
                  <span class="badge bg-danger me-1">Best Seller</span>
                  <span class="badge bg-warning text-dark">Sale</span>
                </div>

                <h2 class="mb-2 fw-bold">AMD Ryzen 9 5900X Processor</h2>

                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-half text-warning"></i>
                  <span class="ms-2">4.5 stars (128 reviews)</span>
                </div>

                <p class="text-muted mb-3">
                  Brand: <span class="fw-medium">AMD</span>
                </p>
                <p class="mb-4">
                  12 cores and 24 processing threads, bundled with the AMD
                  Wraith Prism cooler.
                </p>

                <div class="mb-3">
                  <div class="fw-bold fs-5">Price:</div>
                  <div class="mb-2">
                    <span class="text-muted text-decoration-line-through me-2"
                      >$599.99</span
                    >
                    <span class="fs-3 text-danger">$499.99</span>
                  </div>
                </div>

                <div class="mb-4">
                  <div class="fw-bold">Availability:</div>
                  <div class="text-success">
                    <i class="bi bi-check-circle-fill me-1"></i>
                    In Stock (15 available)
                  </div>
                </div>

                <div class="mb-4">
                  <label for="quantity" class="form-label fw-bold"
                    >Quantity:</label
                  >
                  <div class="input-group" style="max-width: 150px">
                    <button
                      class="btn btn-outline-secondary decrease-quantity"
                      type="button"
                    >
                      <i class="bi bi-dash"></i>
                    </button>
                    <input
                      type="number"
                      class="form-control text-center"
                      id="quantity"
                      value="1"
                      min="1"
                      max="15"
                    />
                    <button
                      class="btn btn-outline-secondary increase-quantity"
                      type="button"
                    >
                      <i class="bi bi-plus"></i>
                    </button>
                  </div>
                </div>

                <div class="d-grid gap-2 d-md-flex mb-4">
                  <button
                    class="btn btn-primary btn-lg flex-grow-1 add-to-cart"
                    data-product-variant-id="var1"
                  >
                    <i class="bi bi-cart-plus me-2"></i> Add to Cart
                  </button>
                  <button
                    class="btn btn-outline-secondary btn-lg"
                    type="button"
                  >
                    <i class="bi bi-heart"></i>
                  </button>
                </div>

                <hr />

                <div class="row mt-4 g-3">
                  <div class="col-12">
                    <div class="d-flex align-items-center">
                      <div class="bg-primary bg-opacity-10 p-2 rounded-3 me-3">
                        <i class="bi bi-truck text-primary fs-4"></i>
                      </div>
                      <div>
                        <span class="fw-bold">Free Shipping</span>
                        <p class="text-muted mb-0 small">On orders over $100</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="d-flex align-items-center">
                      <div class="bg-primary bg-opacity-10 p-2 rounded-3 me-3">
                        <i class="bi bi-shield-check text-primary fs-4"></i>
                      </div>
                      <div>
                        <span class="fw-bold">3 Year Warranty</span>
                        <p class="text-muted mb-0 small">
                          Full manufacturer warranty
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="d-flex align-items-center">
                      <div class="bg-primary bg-opacity-10 p-2 rounded-3 me-3">
                        <i
                          class="bi bi-arrow-counterclockwise text-primary fs-4"
                        ></i>
                      </div>
                      <div>
                        <span class="fw-bold">30-Day Returns</span>
                        <p class="text-muted mb-0 small">
                          Hassle-free return policy
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Product Details Tabs -->
        <div class="card border-0 shadow-sm rounded-4 mb-5">
          <div class="card-body p-0">
            <ul class="nav nav-tabs nav-fill" id="productTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active fw-medium py-3"
                  id="description-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#description"
                  type="button"
                  role="tab"
                  aria-controls="description"
                  aria-selected="true"
                >
                  <i class="bi bi-info-circle me-2"></i>Description
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link fw-medium py-3"
                  id="variants-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#variants"
                  type="button"
                  role="tab"
                  aria-controls="variants"
                  aria-selected="false"
                >
                  <i class="bi bi-list-check me-2"></i>Variants
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link fw-medium py-3"
                  id="reviews-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#reviews"
                  type="button"
                  role="tab"
                  aria-controls="reviews"
                  aria-selected="false"
                >
                  <i class="bi bi-star me-2"></i>Reviews
                </button>
              </li>
            </ul>
            <div class="tab-content p-4" id="productTabsContent">
              <div
                class="tab-pane fade show active"
                id="description"
                role="tabpanel"
                aria-labelledby="description-tab"
              >
                <div id="product-description">
                  <h4 class="mb-4">Product Description</h4>
                  <p>
                    The AMD Ryzen 9 5900X is a high-end desktop processor with
                    12 cores and 24 threads, based on the Zen 3 architecture. It
                    offers impressive performance for both gaming and content
                    creation workloads.
                  </p>
                  <p>Key features include:</p>
                  <ul>
                    <li>
                      12 cores and 24 threads for exceptional multitasking
                    </li>
                    <li>Base clock: 3.7GHz, max boost clock: up to 4.8GHz</li>
                    <li>70MB total cache</li>
                    <li>PCIe 4.0 support</li>
                    <li>Unlocked for overclocking</li>
                    <li>Recommended for high-end gaming and heavy workloads</li>
                  </ul>
                  <p>
                    Experience elite performance in the most demanding games and
                    applications. The Ryzen 9 5900X delivers the ultimate in
                    high-performance computing for gamers and creators alike.
                  </p>
                </div>
              </div>
              <div
                class="tab-pane fade"
                id="variants"
                role="tabpanel"
                aria-labelledby="variants-tab"
              >
                <div id="product-variants">
                  <h4 class="mb-4">Available Variants</h4>
                  <div class="list-group">
                    <div
                      class="list-group-item d-flex justify-content-between align-items-start"
                    >
                      <div class="ms-2 me-auto">
                        <div class="fw-bold">Base Model</div>
                        <div class="small">SKU: AMD-R9-5900X</div>
                        <ul class="mb-0">
                          <li>No cooler included</li>
                          <li>Standard packaging</li>
                        </ul>
                      </div>
                      <div class="text-end">
                        <div>$499.99</div>
                        <div class="mt-1">
                          <button
                            class="btn btn-sm btn-outline-primary select-variant"
                            data-variant-id="var1"
                            data-variant-name="Base Model"
                            data-variant-price="499.99"
                          >
                            Select
                          </button>
                        </div>
                      </div>
                    </div>
                    <div
                      class="list-group-item d-flex justify-content-between align-items-start"
                    >
                      <div class="ms-2 me-auto">
                        <div class="fw-bold">
                          Bundle with Wraith Prism RGB Cooler
                        </div>
                        <div class="small">SKU: AMD-R9-5900X-BUNDLE</div>
                        <ul class="mb-0">
                          <li>Includes Wraith Prism RGB Cooler</li>
                          <li>Premium packaging</li>
                        </ul>
                      </div>
                      <div class="text-end">
                        <div>$549.99</div>
                        <div class="mt-1">
                          <button
                            class="btn btn-sm btn-outline-primary select-variant"
                            data-variant-id="var2"
                            data-variant-name="Bundle with Wraith Prism RGB Cooler"
                            data-variant-price="549.99"
                          >
                            Select
                          </button>
                        </div>
                      </div>
                    </div>
                    <div
                      class="list-group-item d-flex justify-content-between align-items-start"
                    >
                      <div class="ms-2 me-auto">
                        <div class="fw-bold">OEM Version</div>
                        <div class="small">SKU: AMD-R9-5900X-OEM</div>
                        <ul class="mb-0">
                          <li>No retail packaging</li>
                          <li>Tray processor only</li>
                          <li>3 year limited warranty</li>
                        </ul>
                      </div>
                      <div class="text-end">
                        <div>$479.99</div>
                        <div class="mt-1">
                          <button
                            class="btn btn-sm btn-outline-primary select-variant"
                            data-variant-id="var3"
                            data-variant-name="OEM Version"
                            data-variant-price="479.99"
                          >
                            Select
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="tab-pane fade"
                id="reviews"
                role="tabpanel"
                aria-labelledby="reviews-tab"
              >
                <div class="row">
                  <div class="col-md-8">
                    <div id="product-reviews">
                      <h4 class="mb-4">Customer Reviews</h4>
                      <div class="d-flex align-items-center mb-4">
                        <div class="me-3">
                          <span class="display-4 fw-bold">4.5</span>
                          <span class="text-muted">/ 5</span>
                        </div>
                        <div>
                          <div class="mb-1">
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-half text-warning"></i>
                          </div>
                          <p class="mb-0 text-muted">128 customer reviews</p>
                        </div>
                      </div>
                      <hr />

                      <!-- Sample Review -->
                      <div class="card mb-3">
                        <div class="card-body">
                          <div
                            class="d-flex justify-content-between align-items-center mb-2"
                          >
                            <h5 class="card-title mb-0">John Smith</h5>
                            <div>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <small class="text-muted ms-2"
                                >March 15, 2025</small
                              >
                            </div>
                          </div>
                          <p class="card-text">
                            This processor exceeded my expectations. I upgraded
                            from an older Ryzen 7 and the performance boost in
                            both gaming and productivity tasks is significant.
                            Thermals are good with a decent cooler. Highly
                            recommended!
                          </p>
                          <span class="badge bg-success"
                            ><i class="bi bi-check-circle"></i> Verified
                            Purchase</span
                          >
                        </div>
                      </div>

                      <!-- Sample Review -->
                      <div class="card mb-3">
                        <div class="card-body">
                          <div
                            class="d-flex justify-content-between align-items-center mb-2"
                          >
                            <h5 class="card-title mb-0">Jane Doe</h5>
                            <div>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star text-warning"></i>
                              <small class="text-muted ms-2"
                                >February 28, 2025</small
                              >
                            </div>
                          </div>
                          <p class="card-text">
                            Great processor for the price, especially when it's
                            on sale. I use it primarily for 3D rendering and
                            video editing, and it handles everything I throw at
                            it. The only downside is that it can run a bit hot
                            under sustained loads, so invest in a good cooling
                            solution.
                          </p>
                          <span class="badge bg-success"
                            ><i class="bi bi-check-circle"></i> Verified
                            Purchase</span
                          >
                        </div>
                      </div>

                      <!-- Sample Review -->
                      <div class="card mb-3">
                        <div class="card-body">
                          <div
                            class="d-flex justify-content-between align-items-center mb-2"
                          >
                            <h5 class="card-title mb-0">Mike Johnson</h5>
                            <div>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star-fill text-warning"></i>
                              <i class="bi bi-star text-warning"></i>
                              <i class="bi bi-star text-warning"></i>
                              <small class="text-muted ms-2"
                                >January 10, 2025</small
                              >
                            </div>
                          </div>
                          <p class="card-text">
                            Solid performance, but I had some issues with
                            stability at first. After updating my motherboard
                            BIOS, everything works perfectly. Make sure your
                            motherboard is fully compatible and updated before
                            installing.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="card border-0 shadow-sm rounded-4">
                      <div class="card-header bg-white py-3 border-0">
                        <h5 class="mb-0 fw-bold">Write a Review</h5>
                      </div>
                      <div class="card-body">
                        <form id="review-form">
                          <div class="mb-3">
                            <label for="userName" class="form-label"
                              >Your Name</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="userName"
                              name="userName"
                              required
                            />
                          </div>
                          <div class="mb-3">
                            <label class="form-label">Rating</label>
                            <div class="d-flex align-items-center">
                              <div class="rating mb-2">
                                <div class="form-check form-check-inline">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    name="rating"
                                    id="rating5"
                                    value="5"
                                    checked
                                  />
                                  <label class="form-check-label" for="rating5">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                  </label>
                                </div>
                                <div class="form-check form-check-inline">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    name="rating"
                                    id="rating4"
                                    value="4"
                                  />
                                  <label class="form-check-label" for="rating4">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                  </label>
                                </div>
                                <div class="form-check form-check-inline">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    name="rating"
                                    id="rating3"
                                    value="3"
                                  />
                                  <label class="form-check-label" for="rating3">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                  </label>
                                </div>
                                <div class="form-check form-check-inline">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    name="rating"
                                    id="rating2"
                                    value="2"
                                  />
                                  <label class="form-check-label" for="rating2">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                  </label>
                                </div>
                                <div class="form-check form-check-inline">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    name="rating"
                                    id="rating1"
                                    value="1"
                                  />
                                  <label class="form-check-label" for="rating1">
                                    <i class="bi bi-star-fill text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                    <i class="bi bi-star text-warning"></i>
                                  </label>
                                </div>
                              </div>
                              <div class="ms-2">
                                <span class="rating-value">5</span>/5
                              </div>
                            </div>
                          </div>
                          <div class="mb-3">
                            <label for="comment" class="form-label"
                              >Your Review</label
                            >
                            <textarea
                              class="form-control"
                              id="comment"
                              name="comment"
                              rows="5"
                              required
                            ></textarea>
                          </div>
                          <button type="submit" class="btn btn-primary w-100">
                            Submit Review
                          </button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Related Products -->
        <h3 class="mb-4">Related Products</h3>
        <div
          class="row row-cols-1 row-cols-md-4 g-4 mb-4"
          id="related-products"
        >
          <!-- Related Product Item -->
          <div class="col">
            <div class="card h-100 border-0 shadow-sm rounded-4">
              <div class="position-absolute top-0 start-0 m-3">
                <span class="badge bg-danger">-15%</span>
              </div>
              <img
                src="/api/placeholder/300/300"
                alt="AMD Ryzen 7 5800X"
                class="card-img-top p-3"
              />
              <div class="card-body">
                <h5 class="card-title">AMD Ryzen 7 5800X</h5>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <small class="ms-1">(86)</small>
                </div>
                <p class="card-text small">
                  8-core, 16-Thread Unlocked Desktop Processor
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <span class="text-muted text-decoration-line-through me-2"
                      >$399.99</span
                    >
                    <span class="fw-bold text-danger">$339.99</span>
                  </div>
                  <a
                    href="product-detail.html?id=2"
                    class="btn btn-sm btn-outline-primary"
                    >View</a
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Related Product Item -->
          <div class="col">
            <div class="card h-100 border-0 shadow-sm rounded-4">
              <img
                src="/api/placeholder/300/300"
                alt="AMD Ryzen 5 5600X"
                class="card-img-top p-3"
              />
              <div class="card-body">
                <h5 class="card-title">AMD Ryzen 5 5600X</h5>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-half text-warning"></i>
                  <small class="ms-1">(142)</small>
                </div>
                <p class="card-text small">
                  6-core, 12-Thread Unlocked Desktop Processor
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <span class="fw-bold">$279.99</span>
                  </div>
                  <a
                    href="product-detail.html?id=3"
                    class="btn btn-sm btn-outline-primary"
                    >View</a
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Related Product Item -->
          <div class="col">
            <div class="card h-100 border-0 shadow-sm rounded-4">
              <div class="position-absolute top-0 start-0 m-3">
                <span class="badge bg-success">New</span>
              </div>
              <img
                src="/api/placeholder/300/300"
                alt="AMD Ryzen 9 7950X"
                class="card-img-top p-3"
              />
              <div class="card-body">
                <h5 class="card-title">AMD Ryzen 9 7950X</h5>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <small class="ms-1">(37)</small>
                </div>
                <p class="card-text small">
                  16-core, 32-Thread Desktop Processor
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <span class="fw-bold">$699.99</span>
                  </div>
                  <a
                    href="product-detail.html?id=4"
                    class="btn btn-sm btn-outline-primary"
                    >View</a
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Related Product Item -->
          <div class="col">
            <div class="card h-100 border-0 shadow-sm rounded-4">
              <img
                src="/api/placeholder/300/300"
                alt="Noctua NH-D15 CPU Cooler"
                class="card-img-top p-3"
              />
              <div class="card-body">
                <h5 class="card-title">Noctua NH-D15</h5>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-half text-warning"></i>
                  <small class="ms-1">(215)</small>
                </div>
                <p class="card-text small">
                  Premium CPU Cooler with Dual NF-A15 Fans
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <span class="fw-bold">$99.99</span>
                  </div>
                  <a
                    href="product-detail.html?id=5"
                    class="btn btn-sm btn-outline-primary"
                    >View</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer will be loaded dynamically from client/src/components/footer.html -->
    <footer id="footer-container"></footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 for better alerts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.2/dist/sweetalert2.all.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Load header and footer components
        loadComponents();

        // Setup product page functionality
        setupProductPage();

        // Initialize tooltips
        const tooltipTriggerList = [].slice.call(
          document.querySelectorAll('[data-bs-toggle="tooltip"]')
        );
        tooltipTriggerList.map(function (tooltipTriggerEl) {
          return new bootstrap.Tooltip(tooltipTriggerEl);
        });
      });

      // Load header and footer components
      function loadComponents() {
        // Load header
        fetch("/client/src/components/header.html")
          .then((response) => {
            if (!response.ok) {
              throw new Error(
                `Failed to load header: ${response.status} ${response.statusText}`
              );
            }
            return response.text();
          })
          .then((html) => {
            document.getElementById("header-container").innerHTML = html;

            // After loading header, highlight the current page in the navigation
            setTimeout(() => {
              // Find all links to products page and add active class
              const productLinks = document.querySelectorAll(
                'a[href="products.html"]'
              );
              productLinks.forEach((link) => {
                if (link.classList.contains("nav-link")) {
                  link.classList.add("active");
                }
              });
            }, 100);
          })
          .catch((error) => {
            console.error("Error loading header:", error);
            document.getElementById("header-container").innerHTML = `
            <div class="alert alert-danger m-3" role="alert">
              <h4 class="alert-heading">Error Loading Header</h4>
              <p>${error.message}</p>
              <hr>
              <p class="mb-0">Please check the path to your header component.</p>
            </div>
          `;
          });

        // Load footer
        fetch("/client/src/components/footer.html")
          .then((response) => {
            if (!response.ok) {
              throw new Error(
                `Failed to load footer: ${response.status} ${response.statusText}`
              );
            }
            return response.text();
          })
          .then((html) => {
            document.getElementById("footer-container").innerHTML = html;
          })
          .catch((error) => {
            console.error("Error loading footer:", error);
            document.getElementById("footer-container").innerHTML = `
            <div class="alert alert-danger m-3" role="alert">
              <h4 class="alert-heading">Error Loading Footer</h4>
              <p>${error.message}</p>
              <hr>
              <p class="mb-0">Please check the path to your footer component.</p>
            </div>
          `;
          });
      }

      // Setup product page functionality
      function setupProductPage() {
        // Get product ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get("id") || "1"; // Default to product ID 1 if not provided

        // In a real application, fetch product data from API
        // For demo, we'll simulate product loading
        loadProductDetails(productId);

        // Setup thumbnail clicks
        setupThumbnailClicks();

        // Setup quantity controls
        setupQuantityControls();

        // Setup variant selection
        setupVariantSelection();

        // Setup add to cart button
        setupAddToCartButton();

        // Setup review submission
        setupReviewForm();
      }

      // Load product details (simulated)
      function loadProductDetails(productId) {
        // In a real application, this would fetch data from an API
        console.log(`Loading product details for ID: ${productId}`);

        // Since this is a demo, we're already displaying sample data in the HTML
        // This function would normally update the content dynamically based on the product ID

        // Update page title
        const productTitle = document.getElementById("product-title");
        if (productTitle) {
          productTitle.textContent = "AMD Ryzen 9 5900X";
        }

        // Update breadcrumb category if available
        updateBreadcrumb("Processors", "processors");
      }

      // Update breadcrumb with category
      function updateBreadcrumb(categoryName, categorySlug) {
        const breadcrumb = document.getElementById("breadcrumb");
        if (!breadcrumb) return;

        // Check if category breadcrumb already exists
        const categoryItem = breadcrumb.querySelector(".category-item");
        if (!categoryItem && categoryName) {
          // Insert category before product name
          const productItem = breadcrumb.querySelector(
            ".breadcrumb-item.active"
          );
          if (productItem) {
            const categoryLi = document.createElement("li");
            categoryLi.className = "breadcrumb-item category-item";
            categoryLi.innerHTML = `<a href="products.html?category=${categorySlug}">${categoryName}</a>`;
            breadcrumb.insertBefore(categoryLi, productItem);
          }
        }
      }

      // Setup thumbnail clicks
      function setupThumbnailClicks() {
        const thumbnails = document.querySelectorAll(".img-thumbnail");
        const mainImage = document.getElementById("main-product-image");

        if (!thumbnails.length || !mainImage) return;

        thumbnails.forEach((thumbnail) => {
          thumbnail.addEventListener("click", function () {
            // Remove active class from all thumbnails
            thumbnails.forEach((thumb) => {
              thumb.classList.remove("border-primary");
            });

            // Add active class to clicked thumbnail
            this.classList.add("border-primary");

            // Update main image src
            const imageUrl = this.getAttribute("data-bs-title") || this.src;
            mainImage.src = imageUrl;
          });
        });
      }

      // Setup quantity controls
      function setupQuantityControls() {
        const quantityInput = document.getElementById("quantity");
        const decreaseBtn = document.querySelector(".decrease-quantity");
        const increaseBtn = document.querySelector(".increase-quantity");

        if (!quantityInput || !decreaseBtn || !increaseBtn) return;

        // Decrease quantity button
        decreaseBtn.addEventListener("click", function () {
          let currentValue = parseInt(quantityInput.value);
          if (currentValue > 1) {
            quantityInput.value = currentValue - 1;
          }
        });

        // Increase quantity button
        increaseBtn.addEventListener("click", function () {
          let currentValue = parseInt(quantityInput.value);
          let maxValue = parseInt(quantityInput.getAttribute("max") || 99);

          if (currentValue < maxValue) {
            quantityInput.value = currentValue + 1;
          }
        });

        // Validate input changes
        quantityInput.addEventListener("change", function () {
          let value = parseInt(this.value);
          let min = parseInt(this.getAttribute("min") || 1);
          let max = parseInt(this.getAttribute("max") || 99);

          if (isNaN(value) || value < min) {
            this.value = min;
          } else if (value > max) {
            this.value = max;
          }
        });
      }

      // Setup variant selection
      function setupVariantSelection() {
        const variantButtons = document.querySelectorAll(".select-variant");

        if (!variantButtons.length) return;

        variantButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const variantId = this.getAttribute("data-variant-id");
            const variantName = this.getAttribute("data-variant-name");
            const variantPrice = this.getAttribute("data-variant-price");

            // Update add to cart button
            const addToCartBtn = document.querySelector(".add-to-cart");
            if (addToCartBtn) {
              addToCartBtn.setAttribute("data-product-variant-id", variantId);
            }

            // Update price display (simplified for demo)
            const priceDisplay = document.querySelector(".fs-3");
            if (priceDisplay) {
              priceDisplay.textContent = `${variantPrice}`;
            }

            // Show success message
            Swal.fire({
              title: "Variant Selected",
              text: `Selected variant: ${variantName}`,
              icon: "success",
              timer: 1500,
              showConfirmButton: false,
            });
          });
        });
      }

      // Setup add to cart button
      function setupAddToCartButton() {
        const addToCartBtn = document.querySelector(".add-to-cart");

        if (!addToCartBtn) return;

        addToCartBtn.addEventListener("click", function () {
          const variantId =
            this.getAttribute("data-product-variant-id") ||
            this.getAttribute("data-variant-id");
          const quantity = parseInt(
            document.getElementById("quantity").value || 1
          );

          // Simulate adding to cart
          // In a real application, this would call an API
          console.log(
            `Adding to cart: Variant ID ${variantId}, Quantity: ${quantity}`
          );

          // Show loading state
          const originalText = this.innerHTML;
          this.disabled = true;
          this.innerHTML =
            '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Adding...';

          // Simulate API call
          setTimeout(() => {
            // Reset button state
            this.disabled = false;
            this.innerHTML = originalText;

            // Show success message
            Swal.fire({
              title: "Added to Cart!",
              text: "The product has been added to your cart.",
              icon: "success",
              confirmButtonText: "Continue Shopping",
              showCancelButton: true,
              cancelButtonText: "View Cart",
            }).then((result) => {
              if (result.dismiss === Swal.DismissReason.cancel) {
                window.location.href = "cart.html";
              }
            });

            // Update cart badge (simulated)
            updateCartBadge();
          }, 800);
        });
      }

      // Update cart badge (simulated)
      function updateCartBadge() {
        const cartBadges = document.querySelectorAll(".cart-count");

        if (!cartBadges.length) return;

        // Get current count or default to 0
        let currentCount = 0;

        cartBadges.forEach((badge) => {
          if (!badge.classList.contains("d-none")) {
            currentCount = parseInt(badge.textContent) || 0;
          }
        });

        // Increment count
        const newCount = currentCount + 1;

        // Update all badges
        cartBadges.forEach((badge) => {
          badge.textContent = newCount;
          badge.classList.remove("d-none");
        });
      }

      // Setup review form
      function setupReviewForm() {
        const reviewForm = document.getElementById("review-form");
        const ratingInputs = document.querySelectorAll('input[name="rating"]');

        if (!reviewForm || !ratingInputs.length) return;

        // Update rating value on rating change
        ratingInputs.forEach((input) => {
          input.addEventListener("change", function () {
            const ratingValue = document.querySelector(".rating-value");
            if (ratingValue) {
              ratingValue.textContent = this.value;
            }
          });
        });

        // Handle form submission
        reviewForm.addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(reviewForm);
          const userName = formData.get("userName");
          const rating = formData.get("rating");
          const comment = formData.get("comment");

          if (!userName || !comment) {
            Swal.fire({
              title: "Error",
              text: "Please fill in all required fields.",
              icon: "error",
            });
            return;
          }

          // Show loading state
          const submitBtn = reviewForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;
          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Submitting...';

          // Simulate API call
          setTimeout(() => {
            // Reset button state
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;

            // Show success message
            Swal.fire({
              title: "Review Submitted!",
              text: "Thank you for your feedback!",
              icon: "success",
            });

            // Reset form
            reviewForm.reset();

            // Add review to UI (for demo)
            addReviewToUI(userName, rating, comment);
          }, 1000);
        });
      }

      // Add review to UI (for demo)
      function addReviewToUI(userName, rating, comment) {
        const reviewsContainer = document.getElementById("product-reviews");
        const reviewCards = reviewsContainer.querySelectorAll(".card");

        if (!reviewsContainer || !reviewCards.length) return;

        // Generate star HTML
        let starsHtml = "";
        for (let i = 0; i < 5; i++) {
          if (i < rating) {
            starsHtml += '<i class="bi bi-star-fill text-warning"></i>';
          } else {
            starsHtml += '<i class="bi bi-star text-warning"></i>';
          }
        }

        // Create new review element
        const newReview = document.createElement("div");
        newReview.className = "card mb-3";
        newReview.innerHTML = `
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h5 class="card-title mb-0">${userName}</h5>
            <div>
              ${starsHtml}
              <small class="text-muted ms-2">${new Date().toLocaleDateString()}</small>
            </div>
          </div>
          <p class="card-text">${comment}</p>
          <span class="badge bg-success"><i class="bi bi-check-circle"></i> Verified Purchase</span>
        </div>
      `;

        // Insert after review count element
        const firstReview = reviewCards[0];
        reviewsContainer.insertBefore(newReview, firstReview);

        // Update review count (simplified)
        const reviewCountEl = reviewsContainer.querySelector(".text-muted");
        if (reviewCountEl) {
          const currentCount = parseInt(reviewCountEl.textContent) || 0;
          reviewCountEl.textContent = `${currentCount + 1} customer reviews`;
        }
      }
    </script>
  </body>
</html>
